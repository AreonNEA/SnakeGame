(()=>{"use strict";class t{constructor(t,i,s,h){this.canvasWidth=t,this.canvasHeight=i,this.foodWidth=s,this.foodHeight=h,this.image=new Image,this.image.src="images/apple.png",this.respawn()}respawn(){this.x=Math.random()*(this.canvasWidth-2*this.foodWidth),this.y=Math.random()*(this.canvasHeight-2*this.foodHeight)}draw(t){t.drawImage(this.image,this.x,this.y,this.foodWidth,this.foodHeight)}}new class{constructor(t){this.snake=t,document.addEventListener("keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){const i=t.key.toLowerCase();"arrowleft"===i?this.snake.goLeft():"arrowright"===i?this.snake.goRight():"arrowup"===i?this.snake.goUp():"arrowdown"===i&&this.snake.goDown()}}(new class{#t;#i;#s;#h;#e;#a;#o;#n;#d;#c;#g;#l;count;constructor(){this.#h=0,this.#e=0,this.#i=30,this.#s=0,this.#a=10,this.#o=10,this.#n=1.1,this.#d=[],this.#c=50,this.#g=document.querySelector("canvas"),this.#t=this.#g.getContext("2d"),this.count=document.querySelector("#count"),this.#l=new t(this.#g.width,this.#g.height,50,50),this.image=new Image,this.image.src="images/down.png",this.#g||(this.#g=document.createElement("canvas"),this.#g.width=700,this.#g.height=700,document.body.appendChild(this.#g)),this.loop()}checkFoodCollision(){this.#i-10<this.#l.x+this.#l.foodWidth&&this.#i-10+this.#a>this.#l.x&&this.#s+20<this.#l.y+this.#l.foodHeight&&this.#s+20+this.#o>this.#l.y&&(this.#c+=10,this.count.textContent=+this.count.textContent+10,this.#l.respawn())}drawSnake(){this.#d.forEach((t=>{this.#t.fillStyle="rgb(109,178,119)",this.#t.fillRect(t.x+2,t.y+4,this.#a+18,this.#o+18),t.x==this.#i&&t.y==this.#s&&this.#h+this.#e!==0&&(alert("Game Over"),this.resetGame())})),this.#t.drawImage(this.image,this.#i-14,this.#s-13,this.#a+50,this.#o+50)}resetGame(){this.image.src="images/down.png",this.#d.length=50,this.#c=50,this.#i=30,this.#s=0,this.#h=0,this.#e=0,this.count.textContent=0}updateSnake(){this.#d.unshift({x:this.#i,y:this.#s}),this.#d.length>this.#c&&this.#d.pop(),this.#i+=this.#h,this.#s+=this.#e,(this.#i+this.#a+25>=this.#g.width||this.#i<0||this.#s>=this.#g.height||this.#s<0)&&(alert("Game Over"),this.resetGame()),this.checkFoodCollision()}loop(){requestAnimationFrame((()=>{this.loop(),this.updateSnake(),this.#t.clearRect(0,0,this.#g.width,this.#g.height),this.drawSnake(),this.#l.draw(this.#t)}))}goLeft=()=>{this.#h!==this.#n&&(this.#h=-this.#n,this.#e=0,this.image.src="images/left.png")};goRight=()=>{this.#h!==-this.#n&&(this.#h=this.#n,this.#e=0,this.image.src="images/right.png")};goUp=()=>{this.#e!==this.#n&&(this.#e=-this.#n,this.#h=0,this.image.src="images/top.png")};goDown=()=>{this.#e!==-this.#n&&(this.#e=this.#n,this.#h=0,this.image.src="images/down.png")}})})();